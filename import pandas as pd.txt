import pandas as pd
import matplotlib.pyplot as plt

# Load data
data = pd.read_csv("students.csv")

# Calculate total and average
data["Total"] = data["Maths"] + data["Science"] + data["English"]
data["Average"] = data["Total"] / 3

# Display basic statistics
print("STUDENT PERFORMANCE ANALYSIS\n")
print(data[["RollNo", "Name", "Average"]])

print("\n Class Average:", round(data["Average"].mean(), 2))
print(" Highest Average:", data["Average"].max())
print(" Lowest Average:", data["Average"].min())

# Top and weak performers
top_student = data.loc[data["Average"].idxmax()]
weak_student = data.loc[data["Average"].idxmin()]

print("\n Top Performer:")
print(top_student["Name"], "-", round(top_student["Average"], 2))

print("\n Needs Improvement:")
print(weak_student["Name"], "-", round(weak_student["Average"], 2))

# Bar chart
plt.bar(data["Name"], data["Average"])
plt.xlabel("Students")
plt.ylabel("Average Marks")
plt.title("Student Performance Comparison")
plt.show()
